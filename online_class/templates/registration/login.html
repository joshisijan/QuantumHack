{% extends 'main/base.html' %}

{% load crispy_forms_tags %}

{% block title %}Log in{% endblock title %}

{% block body %}
  {% if form.non_field_errors %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      {% for error in form.non_field_errors %}
        <p{% if forloop.last %} class="mb-0 text-danger"{% endif %}>{{ error }}</p>
      {% endfor %}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {% endif %}
  <div class="container">
    <div class="row justify-content-md-center d-flex justify-content-center align-items-center" style="min-height: 60vh;">
      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-10">
        <div class="my-3">
          <h3>LOGIN</h3>
        </div>
        <form class="w-100" method="post" novalidate>
          {% csrf_token %}
          <input type="hidden" name="next" value="{{ next }}">
          <div class="form-group">
            {{ form.username|as_crispy_field }}
          </div>
          <div class="form-group">
            {{ form.password|as_crispy_field }}
          </div>
          <div class="form-group">
            <button type="submit" class="form-control form-control-sm btn btn-sm btn-primary form-control w-50" style="position: relative;">
              <span class="material-icons md-18" style="position: absolute; top: 50%; transform: translate(0, -50%);">
                login
              </span>
              <span class="pl-4">
                login
              </span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>


  <style>

    .control-label{
      color: #007bff;
      font-size: 80%;
      font-weight: 400;
    }

    .textinput{
      display: block;
      width: 100%;
      height: calc(1.5em + .75rem + 2px);
      font-weight: 400;
      line-height: 1.5;
      color: #495057;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid #ced4da;
      border-radius: .25rem;
      transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
      height: calc(1.5em + .5rem + 2px);
      padding: .25rem .5rem;
      font-size: .875rem;
      border-radius: .2rem;
    }

    #error_1_id_password, #error_1_id_username{
      color: #dc3545;
      font-size: 80%;
      font-weight: 400;
    }
  </style>

{% endblock %}